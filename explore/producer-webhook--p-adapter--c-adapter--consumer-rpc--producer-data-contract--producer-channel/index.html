<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Integration Blueprints</title>
        <link href="https://unpkg.com/@primer/css@^20.2.4/dist/primer.css" rel="stylesheet" />
        <link rel="stylesheet" href="../../css/styles.css">
    </head>
    <body>
        <h1>Integration Blueprints specification</h1>
        <div class="grid-container-blueprint">
            <div class="producer">
                <div class="grid-container-component">
                    <div class="component-header">Producer</div>
                    <div class="component-icon">
                        <div>
                            <img src="../../sprites/transactional_producer.png" alt="Producer">
                        </div>
                        <div>
                            <img style="opacity: 0.5;" src="../../sprites/message_translator.png" alt="Producer">
                        </div>
                    </div>
                    <div class="component-links">
                        <ul>
                            <li><strong>Integration style:</strong></li>
                            <li id="replace--producer-shared-db:producer-rpc:producer-messaging:producer-webhook--producer-file-transfer" style="display: none"><a href="#">File Transfer</a></li>
                            <li id="show--producer-file-transfer" style="display: none"><span>File Transfer</span></li>
                            <li id="replace--producer-file-transfer:producer-rpc:producer-messaging:producer-webhook--producer-shared-db" style="display: none"><a href="#">Shared Database</a></li>
                            <li id="show--producer-shared-db" style="display: none"><span>Shared Database</span></li>
                            <li id="replace--producer-file-transfer:producer-shared-db:producer-messaging:producer-webhook--producer-rpc" style="display: none"><a href="#">Remote Procedure Call</a></li>
                            <li id="show--producer-rpc" style="display: none"><span>Remote Procedure Call</span></li>
                            <li id="replace--producer-file-transfer:producer-shared-db:producer-rpc:producer-webhook--producer-messaging" style="display: none"><a href="#">Messaging</a></li>
                            <li id="show--producer-messaging" style="display: none"><span>Messaging</span></li>
                            <li id="replace--producer-file-transfer:producer-shared-db:producer-rpc:producer-messaging--producer-webhook" style="display: none"><a href="#">Webhook (subscribe)</a></li>
                            <li id="show--producer-webhook" style="display: none"><span>Webhook (subscribe)</span></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="integration-platform">
                <div class="header">Integration Platform</div>
                <div class="p-adapter">
                    <div class="grid-container-component">
                        <div class="component-header">Producer Adapter</div>
                        <div class="component-icon">
                            <div>
                                <img src="../../sprites/channel_adapter_left.png" alt="Producer Adapter">
                            </div>
                            <div>
                                <img src="../../sprites/message_translator.png" alt="Producer Adapter">
                            </div>
                        </div>
                        <div class="component-links">
                            <ul>
                                <li id="add--p-adapter" style="display: none"><a href="#">+ Add</a></li>
                                <li id="remove--p-adapter" style="display: none"><a href="#">- Remove</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="publisher-api">
                    <div class="grid-container-component">
                        <div class="component-header">Publisher API</div>
                        <div class="component-icon">
                            <img src="../../sprites/service_activator.png" alt="API">
                        </div>
                        <div class="component-links">
                            <ul>
                                <li id="add--publisher-api" style="display: none"><a href="#">+ Add</a></li>
                                <li id="remove--publisher-api" style="display: none"><a href="#">- Remove</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="mediation-layer">
                    <div class="grid-container-component">
                        <div class="component-header">Mediation Layer</div>
                        <div class="component-icon">
                            <img src="../../sprites/message_store.png" alt="Message Store">
                            <img src="../../sprites/recipient_list.png" alt="Recipient List">
                            <img src="../../sprites/message_filter.png" alt="Message Filter">
                        </div>
                        <div class="component-links">
                            <ul>
                                <li id="add--mediation-layer" style="display: none"><a href="#">+ Add</a></li>
                                <li id="remove--mediation-layer" style="display: none"><a href="#">- Remove</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="subscriber-api">
                    <div class="grid-container-component">
                        <div class="component-header">Subscriber API</div>
                        <div class="component-icon">
                            <img src="../../sprites/service_activator.png" alt="API">
                        </div>
                        <div class="component-links">
                            <ul>
                                <li id="add--subscriber-api" style="display: none"><a href="#">+ Add</a></li>
                                <li id="remove--subscriber-api" style="display: none"><a href="#">- Remove</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="c-adapter">
                    <div class="grid-container-component">
                        <div class="component-header">Consumer Adapter</div>
                        <div class="component-icon">
                            <div>
                                <img src="../../sprites/channel_adapter_right.png" alt="Consumer Adapter">
                            </div>
                            <div>
                                <img src="../../sprites/message_translator.png" alt="Producer Adapter">
                            </div>
                        </div>
                        <div class="component-links">
                            <ul>
                                <li id="add--c-adapter" style="display: none"><a href="#">+ Add</a></li>
                                <li id="remove--c-adapter" style="display: none"><a href="#">- Remove</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="consumer">
                <div class="grid-container-component">
                    <div class="component-header">Consumer</div>
                    <div class="component-icon">
                        <div>
                            <img src="../../sprites/transactional_consumer.png" alt="Consumer">
                        </div>
                        <div>
                            <img style="opacity: 0.5;" src="../../sprites/message_translator.png" alt="Consumer">
                        </div>
                    </div>
                    <div class="component-links">
                        <ul>
                            <li><strong>Integration style:</strong></li>
                            <li id="replace--consumer-shared-db:consumer-rpc:consumer-messaging:consumer-webhook--consumer-file-transfer" style="display: none"><a href="#">File Transfer</a></li>
                            <li id="show--consumer-file-transfer" style="display: none"><span>File Transfer</span></li>
                            <li id="replace--consumer-file-transfer:consumer-rpc:consumer-messaging:consumer-webhook--consumer-shared-db" style="display: none"><a href="#">Shared Database</a></li>
                            <li id="show--consumer-shared-db" style="display: none"><span>Shared Database</span></li>
                            <li id="replace--consumer-file-transfer:consumer-shared-db:consumer-messaging:consumer-webhook--consumer-rpc" style="display: none"><a href="#">Remote Procedure Call</a></li>
                            <li id="show--consumer-rpc" style="display: none"><span>Remote Procedure Call</span></li>
                            <li id="replace--consumer-file-transfer:consumer-shared-db:consumer-rpc:consumer-webhook--consumer-messaging" style="display: none"><a href="#">Messaging</a></li>
                            <li id="show--consumer-messaging" style="display: none"><span>Messaging</span></li>
                            <li id="replace--consumer-file-transfer:consumer-shared-db:consumer-rpc:consumer-messaging--consumer-webhook" style="display: none"><a href="#">Webhook (callbak)</a></li>
                            <li id="show--consumer-webhook" style="display: none"><span>Webhook (callbak)</span></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="footer">
                <strong>Data Exchange Contract: </strong>
                <span id="show--producer-data-contract" style="display: none">Producer Data Contract</span> 
                <a id="replace--canonical-data-contract:consumer-data-contract--producer-data-contract" style="display: none" href="#">Producer Data Contract</a> - 
                <span id="show--canonical-data-contract" style="display: none">Canonical (Common) Data Exchange Contract</span> 
                <a id="replace--producer-data-contract:consumer-data-contract--canonical-data-contract" style="display: none" href="#">Canonical Data Contract</a> 
                <br />
                <strong>Data Exchange Channel: </strong>
                <span id="show--producer-channel" style="display: none">Producer Channel</span> 
                <a id="replace--mediation-layer-channel:consumer-channel--producer-channel" style="display: none" href="#">Producer Channel</a> - 
                <span id="show--mediation-layer-channel" style="display: none">Mediation Layer Channel</span> 
                <a id="replace--producer-channel:consumer-channel--mediation-layer-channel" style="display: none" href="#">Mediation Layer Channel</a> 
            </div>
        </div>

        <img src="" alt="" id="diagram">

        
        <script src="../../bower_components/jquery/dist/jquery.min.js"></script>
        <script src="//cdn.rawgit.com/jmnote/plantuml-encoder/d133f316/dist/plantuml-encoder.min.js"></script>
        <script src="../../js/index.js"></script>
        <script>
            function goToPage(event) {
                event.preventDefault(); // stop the browser from navigating to the destination URL.
                const hrefUrl = event.target.getAttribute('href');
                const pageToLoad = hrefUrl.slice(1); // remove the leading slash
                document.getElementById('placeholder').innerHTML = load(pageToLoad);
                window.history.pushState({}, window.title, hrefUrl) // Update URL as well as browser history.
            }

            // Enable client-side routing for all links on the page
            //document.querySelectorAll('a').forEach(link => link.addEventListener('click', goToPage));

            app.loadPage();
        </script>
    </body>
</html>